---
import '@fontsource-variable/onest';
import "aos/dist/aos.css";

import { SEO } from "astro-seo";
import { ViewTransitions } from 'astro:transitions';

interface Props {
  title: string;
}

const canonicalURL = new URL(Astro.url.pathname, Astro.url.origin).toString();
const resolvedImageWithDomain = new URL("/image.jpeg", Astro.url.origin).toString();

const { title } = Astro.props;
const makeTitle = title ? title : "Javier Picón";

const { currentLocale } = Astro
---

<!doctype html>
<html lang={currentLocale}>
  <head>
    <ViewTransitions />
    <meta charset="UTF-8" />
    <meta name="description" content="Portfolio website by Javier Picón" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="google-site-verification" content="Pw96Vux3r5C9-8rbsJZRP8Vu17fbr9bNvtOPfoSb5Gg" />
    <meta name="generator" content={Astro.generator} />
    <SEO
    title={makeTitle}
    description="Portfolio website by Javier Picón"
    canonical={canonicalURL}
    twitter={{
      creator: "@mcpikon",
      site: "@mcpikon",
      card: "summary_large_image",
    }}
    openGraph={{
      basic: {
        url: canonicalURL,
        type: "website",
        title: `Javier Picón`,
        image: resolvedImageWithDomain,
      },
      image: {
        alt: "Javier Picón",
      },
      optional: {
        description: `Portfolio website by Javier Picón`,
      }
    }}
  />
  <script
    type="text/partytown"
    src="https://www.googletagmanager.com/gtag/js?id=G-KBEX4WTCF1">
  </script>
  <script type="text/partytown" is:inline>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());
    gtag("config", "G-KBEX4WTCF1");
  </script>
    <title>{title}</title>
  </head>
  <body class="antialiased">
    <slot />

    <style is:global>
      img {
        content-visibility: auto;
      }
      html {
        scroll-behavior: smooth;
      }
      body {
        font-family: "Onest Variable", system-ui, sans-serif;
        background-color: rgb(20, 20, 20);
        background-size: 22px 22px;
        overflow-x: hidden;
      }
  
      body .cursor {
        position: fixed;
        z-index: 100;
        height: 15px;
        width: 15px;
        border-radius: 36px;
        background-color: rgba(255, 255, 255, 0.75);
        box-shadow:
          0 0 24px 0 #0000001a,
          0 1px 0 0 #0000;
        pointer-events: none;
        transition: all 200ms ease-out;
        left: -18px;
        top: -18px;
        box-sizing: border-box;
      }
      ::-webkit-scrollbar {
        width: 10px;
      }
  
      ::-webkit-scrollbar-track {
        background-color: #141414;
        -webkit-border-radius: 10px;
        border-radius: 10px;
      }
  
      ::-webkit-scrollbar-thumb {
        -webkit-border-radius: 10px;
        border-radius: 10px;
        background: #087ec4;
      }
    </style>
    <script>
      import { aosInit } from "@/utils/aos";
      
      aosInit();

      document.addEventListener("astro:after-swap", aosInit);
    </script>
  </body>
</html>