---
import { getI18N, getI18NExperience } from "@/i18n"

const { currentLocale } = Astro
const i18n = getI18N({ currentLocale })
const EXPERIENCE = getI18NExperience({ currentLocale })
---
<section id="experience" class="md:w-2/5 w-5/6 mx-auto m-6 py-24">
    <h1 data-aos="fade-up" data-aos-anchor-placement="top-bottom" class="mb-8 font-extrabold text-center text-4xl text-transparent bg-clip-text bg-gradient-to-tr from-secondary to-[#616161]">
        {i18n.EXPERIENCE_TITLE}
    </h1>
    <div data-aos="fade-up"
        data-aos-anchor-placement="center-bottom"
        class="gap-8 px-4 mx-auto">
        <ol class="relative border-s border-gray-200 dark:border-gray-700">
            {
                EXPERIENCE &&
                  EXPERIENCE.map((expItem, index) => (
                    <li class={index < EXPERIENCE.length-1 ? "mb-10 ms-6" : "ms-6"}>
                        <span class="absolute flex items-center justify-center w-6 h-6 bg-secondary rounded-full -start-3 ring-4 ring-slate-800">
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-3.5 h-3.5 text-blue-200" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 13.478v4.522a3 3 0 0 1 -3 3h-14a3 3 0 0 1 -3 -3v-4.522l.553 .277a20.999 20.999 0 0 0 18.897 -.002l.55 -.275zm-8 -11.478a3 3 0 0 1 3 3v1h2a3 3 0 0 1 3 3v2.242l-1.447 .724a19.002 19.002 0 0 1 -16.726 .186l-.647 -.32l-1.18 -.59v-2.242a3 3 0 0 1 3 -3h2v-1a3 3 0 0 1 3 -3h4zm-2 8a1 1 0 0 0 -1 1a1 1 0 1 0 2 .01c0 -.562 -.448 -1.01 -1 -1.01zm2 -6h-4a1 1 0 0 0 -1 1v1h6v-1a1 1 0 0 0 -1 -1z" stroke-width="0" fill="currentColor" /></svg>
                        </span>
                        <h3 class="mb-1 text-xl font-semibold text-slate-200">{expItem.JOB} {expItem.TYPE && <span class="italic text-slate-400">({expItem.TYPE})</span>} - {expItem.COMPANY}{index == 0 && <span class="whitespace-nowrap bg-blue-700 text-blue-100 text-sm font-medium me-2 px-2.5 py-0.5 rounded-md ms-3">{i18n.EXPERIENCE_LIST_BADGE}</span>}</h3>
                        <time class="block mb-2 text-sm font-normal leading-none text-gray-300">{expItem.DATE}</time>
                        <p class="text-base font-normal text-gray-500 dark:text-gray-400">{expItem.DESCRIPTION}</p>
                    </li>
                ))
            }
        </ol>
    </div>
</div>